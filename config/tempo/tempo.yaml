# HTTP server used by Grafana to query traces
server:
  http_listen_port: 3200

distributor:
  receivers:
    otlp:
      protocols:
        # OTLP gRPC receiver (used by Alloy â†’ Tempo)
        grpc:

        # OTLP HTTP receiver (optional)
        http:

ingester:
  # Time to wait before considering a trace complete
  # After this, the trace is flushed to storage
  trace_idle_period: 10s

storage:
  trace:
    # Use Google Cloud Storage for trace storage
    backend: gcs

    gcs:
      # GCS bucket where trace blocks are stored
      bucket_name: '${GCS_BUCKET_NAME}'

    wal:
      # Write-ahead log for crash recovery
      path: /var/tempo/wal

    local:
      # Local directory used as a temporary block cache
      path: /var/tempo/blocks